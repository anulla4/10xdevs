---
import Layout from '../layouts/Layout.astro'
import { WelcomePage } from '../components/layout/WelcomePage'

// User is authenticated (middleware ensures this)
// Redirect to panel as the main authenticated landing page
if (Astro.locals.user) {
  return Astro.redirect('/panel')
}

// This should never be reached due to middleware protection,
// but kept as a safety fallback
return Astro.redirect('/auth/login')
---

<Layout title="Nature Log - Twoje obserwacje przyrody">
  <WelcomePage client:load />
</Layout>
