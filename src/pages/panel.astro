---
import Layout from '../layouts/Layout.astro'
import { PanelPage } from '../components/panel/PanelPage'

// Auth guard - require authentication
if (!Astro.locals.user) {
  return Astro.redirect('/auth/login?redirectTo=/panel')
}

const userId = Astro.locals.user.id
---

<Layout title="Panel - Nature Log">
  <PanelPage client:only="react" userId={userId} />
</Layout>
